import{_}from"./index.ed76951d.js";import{F as u}from"./componentEnum.931fd36d.js";import{D as f,J as p,K as d}from"./index.7ec48b1e.js";import{d as g,aB as m,aQ as b,o as h,f as v,b as N}from"./.pnpm.b1628590.js";import{S as c}from"./basic.9db2ab82.js";import{_ as C}from"./dept.9625684c.js";import{_ as D}from"./dict.e1729452.js";import{_ as E}from"./menu.06113983.js";import{_ as w}from"./role.361fd525.js";import{_ as T}from"./user.6ef3fe5c.js";import{_ as A}from"./test.685adf0d.js";import"./base-table.aad36bb7.js";import"./base-column-setting.719f184f.js";import"./index.a9b6259e.js";import"./base-filter.6a316897.js";import"./base-form.vue_vue_type_script_setup_true_lang.66fca1de.js";import"./base-select.vue_vue_type_script_lang.5e8e8352.js";import"./base-input-number.9e49621c.js";import"./base-icon-picker.vue_vue_type_style_index_0_lang.df84f711.js";function S(){return{filterColumn:[{fieldName:"apiName",fieldDesc:"\u63A5\u53E3\u540D\u79F0",fieldType:u.INPUT},{fieldName:"status",fieldDesc:"\u63A5\u53E3\u72B6\u6001",fieldType:u.SELECT,config:{options:c}}],tableColumn:[{fieldName:"apiName",fieldDesc:"\u63A5\u53E3\u540D\u79F0",showOverflowTooltip:!0},{fieldName:"apiUrl",fieldDesc:"\u63A5\u53E3url",showOverflowTooltip:!0},{fieldName:"status",fieldDesc:"\u72B6\u6001",formType:"tag",type:e=>e.status===0?"danger":"",formatter:e=>f(c,e.status)},{fieldName:"createTime",fieldDesc:"\u521B\u5EFA\u65F6\u95F4",width:160},{fieldName:"remark",fieldDesc:"\u5907\u6CE8",showOverflowTooltip:!0,active:!1}]}}const y=()=>{const r=Object.assign({"../log.ts":p,"./dept.ts":C,"./dict.ts":D,"./menu.ts":E,"./role.ts":w,"./user.ts":T,"../test.ts":A,"../user.ts":d}),a=[];return Object.values(r).map(e=>e.Api).forEach(e=>{!e||Object.keys(e).forEach(o=>{a.push({apiName:o,apiUrl:e[o],status:1,createTime:"2023-02-01 12:00:00",remark:""})})}),a},F=r=>{const{currentPage:a,pageSize:e,apiName:o,status:s}=r;let t=y();return o&&(t=t.filter(i=>i.apiName.includes(o.toLocaleUpperCase()))),s&&(t=t.filter(i=>i.status===s)),new Promise(i=>{i({code:200,data:{list:t.slice((a-1)*e,a*e),total:t.length},message:""})})},O={class:"system-api-container"},X=g({__name:"index",setup(r){const{tableColumn:a,filterColumn:e}=S(),o=m({columns:e,onSearch:t,showOpen:!1,searchInfo:{}}),s=m({columns:a,data:[],pagination:{currentPage:1,pageSize:10,total:0},indexShow:!1,onRefresh:t});b(()=>{t()});async function t(){const{currentPage:i,pageSize:n}=s.pagination,l=await F({...o.searchInfo,currentPage:i,pageSize:n});s.data=l.data.list||[],s.pagination.total=l.data.total||0}return(i,n)=>{const l=_;return h(),v("div",O,[N(l,{"table-title":"\u63A5\u53E3\u5217\u8868","filter-config":o,"table-config":s},null,8,["filter-config","table-config"])])}}});export{X as default};
