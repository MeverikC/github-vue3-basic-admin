import{_}from"./index.6a7dedbe.js";import{F as u}from"./componentEnum.5f52cc03.js";import{D as f,J as p,K as d}from"./index.f730c59d.js";import{d as g,aB as m,aQ as b,o as h,f as v,b as N}from"./.pnpm.b1628590.js";import{S as c}from"./basic.9db2ab82.js";import{_ as C}from"./dept.8a68ec09.js";import{_ as D}from"./dict.52601b66.js";import{_ as E}from"./menu.79bd21d6.js";import{_ as w}from"./role.3ebba6e2.js";import{_ as T}from"./user.57281adb.js";import{_ as A}from"./test.a399a3e7.js";import"./base-table.26f0c2fd.js";import"./base-column-setting.876fb47d.js";import"./index.6b9b62c4.js";import"./base-filter.cf8c554c.js";import"./base-form.vue_vue_type_script_setup_true_lang.c31353a7.js";import"./base-select.vue_vue_type_script_lang.61c5946e.js";import"./base-input-number.e6272b0b.js";import"./base-icon-picker.vue_vue_type_style_index_0_lang.89d6acdc.js";function S(){return{filterColumn:[{fieldName:"apiName",fieldDesc:"\u63A5\u53E3\u540D\u79F0",fieldType:u.INPUT},{fieldName:"status",fieldDesc:"\u63A5\u53E3\u72B6\u6001",fieldType:u.SELECT,config:{options:c}}],tableColumn:[{fieldName:"apiName",fieldDesc:"\u63A5\u53E3\u540D\u79F0",showOverflowTooltip:!0},{fieldName:"apiUrl",fieldDesc:"\u63A5\u53E3url",showOverflowTooltip:!0},{fieldName:"status",fieldDesc:"\u72B6\u6001",formType:"tag",type:e=>e.status===0?"danger":"",formatter:e=>f(c,e.status)},{fieldName:"createTime",fieldDesc:"\u521B\u5EFA\u65F6\u95F4",width:160},{fieldName:"remark",fieldDesc:"\u5907\u6CE8",showOverflowTooltip:!0,active:!1}]}}const y=()=>{const r=Object.assign({"../log.ts":p,"./dept.ts":C,"./dict.ts":D,"./menu.ts":E,"./role.ts":w,"./user.ts":T,"../test.ts":A,"../user.ts":d}),a=[];return Object.values(r).map(e=>e.Api).forEach(e=>{!e||Object.keys(e).forEach(o=>{a.push({apiName:o,apiUrl:e[o],status:1,createTime:"2023-02-01 12:00:00",remark:""})})}),a},F=r=>{const{currentPage:a,pageSize:e,apiName:o,status:s}=r;let t=y();return o&&(t=t.filter(i=>i.apiName.includes(o.toLocaleUpperCase()))),s&&(t=t.filter(i=>i.status===s)),new Promise(i=>{i({code:200,data:{list:t.slice((a-1)*e,a*e),total:t.length},message:""})})},O={class:"system-api-container"},X=g({__name:"index",setup(r){const{tableColumn:a,filterColumn:e}=S(),o=m({columns:e,onSearch:t,showOpen:!1,searchInfo:{}}),s=m({columns:a,data:[],pagination:{currentPage:1,pageSize:10,total:0},indexShow:!1,onRefresh:t});b(()=>{t()});async function t(){const{currentPage:i,pageSize:n}=s.pagination,l=await F({...o.searchInfo,currentPage:i,pageSize:n});s.data=l.data.list||[],s.pagination.total=l.data.total||0}return(i,n)=>{const l=_;return h(),v("div",O,[N(l,{"table-title":"\u63A5\u53E3\u5217\u8868","filter-config":o,"table-config":s},null,8,["filter-config","table-config"])])}}});export{X as default};
