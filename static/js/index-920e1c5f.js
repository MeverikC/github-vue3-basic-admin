import{_ as F}from"./index-56bf70a1.js";import{d as y,r as M,b as C,a1 as O,x as S,a_ as v,aE as k,bd as J,ce as j,g,V as I,o as b,c as E,E as U,f as s,w as f,m as K}from"./index-2e4d6250.js";import{a as T,u as $,e as L}from"./useChartsConfig-9e5fdebc.js";import"./el-col-fec1900f.js";const B=o=>new Promise((n,t)=>{if(document.getElementById(o))setTimeout(()=>{n(!0)},500);else{const e=document.createElement("script");e.id=o,e.src=o,e.async=!0,document.body.appendChild(e),e.onload=function(){setTimeout(()=>{this.onerror=this.onload=null,n(!0)},500)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("\u52A0\u8F7D\u5931\u8D25"+o))}}}),N="https://webapi.amap.com/maps?v=1.3&plugin=AMap.DistrictSearch&key=",R="https://webapi.amap.com/ui/1.0/main.js",V="73cddabc2173e0166a622f4483d3592a",z=y({__name:"base-map",props:{width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:"400px"},options:{type:Object},type:{type:String,default:"map"},code:{type:Number,default:1e5},mapKey:{type:String,default:V}},setup(o,{expose:n}){const t=o,r=M(null),e=C({geoJsonObj:{},code:t.code});O(()=>{p()});const i=S(()=>{const{width:a,height:u}=t;return{width:v(a)?a:`${a}px`,height:v(u)?u:`${u}px`}}),{setOption:l}=T(r),{getConfig:x}=$(t.type,t.options),h=k(),w=async()=>{try{const{mapKey:a}=t;if(!a){console.error("mapKey\u53C2\u6570\u7F3A\u5931\uFF0C\u65E0\u6CD5\u6B63\u5E38\u6E32\u67D3\u5730\u56FE");return}await B(N+a),await B(R)}catch{console.error("\u52A0\u8F7DAMap\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5AMap\u6216AMapUI\u5730\u5740\u662F\u5426\u6B63\u786E")}},p=async(a=t.code,u)=>{if((!window.AMap||!window.AMapUI)&&await w(),h.open(r.value),e.geoJsonObj[a]&&!J(e.geoJsonObj[u])){e.code=u||a,_();return}j(()=>{window.AMapUI.loadUI(["geo/DistrictExplorer"],D=>{new D().loadAreaNode(a,function(A,m){if(A){h.close();return}let c=(m==null?void 0:m.getSubFeatures())||[];if(c.length===0){const d=m._data.geoData.parent.properties.acroutes;p(d[d.length-1],a);return}u&&(c=c.filter(d=>d.properties.adcode===u)),e.geoJsonObj[u||a]={features:c},L.registerMap("map",e.geoJsonObj[e.code]),e.code=u||a,_()})})},30)},_=()=>{h.close(),l(g(x))};return I(()=>[t.code,t.options],()=>{p()},{deep:!0}),n({getJson:p}),(a,u)=>(b(),E("div",{ref_key:"baeMapRef",ref:r,style:U(g(i))},null,4))}}),P={class:"com-echarts-map-container hidden"},q=y({__name:"index",setup(o){const n=M({series:[{data:[{name:"\u6B66\u6C49",value:[114.31,30.52,10]},{name:"\u4E0A\u6D77",value:[121.48,31.22,20]},{name:"\u5317\u4EAC",value:[116.46,39.92,30]},{name:"\u5E7F\u5DDE",value:[113.23,23.16,40]},{name:"\u676D\u5DDE",value:[120.19,30.26,40]}]}]}),t=M({series:[{data:[{name:"\u5730\u70B91",value:[114.412021,30.481201,1e3]},{name:"\u5730\u70B92",value:[114.411266,30.480921,1e3]},{name:"\u5730\u70B93",value:[114.411985,30.481387,1e3]},{name:"\u5730\u70B94",value:[114.411159,30.481917,1e3]},{name:"\u5730\u70B95",value:[114.412488,30.481917,1e3]},{name:"\u5730\u70B96",value:[114.413638,30.482726,1e3]},{name:"\u5730\u70B97",value:[114.412344,30.48341,1e3]},{name:"\u5730\u70B98",value:[114.413494,30.483939,Math.floor(Math.random()*1e3)]},{name:"\u5730\u70B99",value:[114.411877,30.484469,Math.floor(Math.random()*1e3)]},{name:"\u5730\u70B910",value:[114.412308,30.484531,Math.floor(Math.random()*1e3)]},{name:"\u5730\u70B911",value:[114.407853,30.4845,Math.floor(Math.random()*1e3)]},{name:"\u5730\u70B912",value:[114.407242,30.48285,Math.floor(Math.random()*1e3)]},{name:"\u5730\u70B913",value:[114.412021,30.481201,Math.floor(Math.random()*1e3)]},{name:"\u5730\u70B914",value:[114.412021,30.481201,Math.floor(Math.random()*1e3)]},{name:"\u5730\u70B915",value:[114.412021,30.481201,Math.floor(Math.random()*1e3)]},{name:"\u5730\u70B916",value:[114.412021,30.481201,Math.floor(Math.random()*1e3)]},{name:"\u5730\u70B917",value:[114.412021,30.481201,Math.floor(Math.random()*1e3)]},{name:"\u5730\u70B918",value:[114.412021,30.481201,Math.floor(Math.random()*1e3)]},{name:"\u5730\u70B919",value:[114.412021,30.481201,Math.floor(Math.random()*1e3)]},{name:"\u5730\u70B920",value:[114.447306,30.560407,Math.floor(Math.random()*1e3)]},{name:"\u5730\u70B921",value:[114.296104,30.600017,Math.floor(Math.random()*1e3)]},{name:"\u5730\u70B922",value:[114.29402,30.597406,Math.floor(Math.random()*1e3)]},{name:"\u5730\u70B923",value:[114.300487,30.595106,Math.floor(Math.random()*1e3)]},{name:"\u5730\u70B924",value:[114.295026,30.592805,Math.floor(Math.random()*1e3)]},{name:"\u5730\u70B925",value:[114.291648,30.597282,1e3]},{name:"\u5730\u70B926",value:[114.287408,30.599147,1e3]},{name:"\u5730\u70B927",value:[114.282378,30.598649,1e3]},{name:"\u5730\u70B928",value:[114.286689,30.600514,1e3]}]}]});return(r,e)=>{const i=z,l=F;return b(),E("div",P,[s(l,{title:"\u5206\u5E03\u56FE",class:"dark-bg"},{default:f(()=>[s(i,{height:"600px",type:"map","click-down":""})]),_:1}),s(l,{title:"\u6563\u70B9\u56FE",class:"dark-bg"},{default:f(()=>[s(i,{height:"600px",type:"scatter",options:n.value},null,8,["options"])]),_:1}),s(l,{title:"\u70ED\u529B\u56FE",class:"dark-bg"},{default:f(()=>[s(i,{height:"600px",type:"heatmap",options:t.value},null,8,["options"])]),_:1})])}}});const Y=K(q,[["__scopeId","data-v-7aed4531"]]);export{Y as default};
