import{_ as z}from"./base-table-7b17ffc8.js";import{d as E,a7 as V,ei as j,r as v,a4 as N,o as c,c as h,f as o,w as s,B as y,aX as P,aW as $,ac as m,C as _,t as B,e as F,a5 as M,h as O,bb as D,b9 as U,j as A,a$ as I,d$ as W,g as k,m as X}from"./index-2e4d6250.js";import{_ as q}from"./base-column-setting-9e8376f1.js";import{_ as G}from"./index-56bf70a1.js";import{_ as J}from"./base-filter-e4f7e7b4.js";const K={class:"base-page-table-container"},L={key:0,class:"mb15"},Q={class:"flex-row-center justify-between"},Y=E({__name:"index",props:{tableTitle:{type:String,default:""},filterConfig:{type:Object},tableConfig:{type:Object}},emits:["refresh"],setup(t,{emit:H}){const g=t,x=V(),{getTagFullscreen:T}=j(),p=v(),C=v(0),w=()=>{var f;const e=k(T)?37:85,n=20,a=16,r=((f=k(p))==null?void 0:f.instance.offsetHeight)||0,u=20,l=x.buttons?101:54,b=g.tableConfig.showPagination===!1?0:40,d=e+r+l+u+b+n+a;C.value=`calc(100vh - ${d}px)`},R=()=>{var e,n,a;D((e=g.tableConfig)==null?void 0:e.onRefresh)&&((a=(n=g.tableConfig).onRefresh)==null||a.call(n)),H("refresh")};return N(p,U(()=>{w()},100)),(e,n)=>{const a=J,r=G,u=A,l=I,b=q,d=W,f=z;return c(),h("div",K,[o(r,{class:"base-page-filter",ref_key:"baseFilterRef",ref:p},{default:s(()=>[e.$slots.filter?m("",!0):(c(),y(a,P($({key:0},t.filterConfig)),null,16)),_(e.$slots,"filter",{},void 0,!0)]),_:3},512),o(r,{class:"base-page-table"},{title:s(()=>[e.$slots.buttons?(c(),h("div",L,B(t.tableTitle),1)):m("",!0),F("div",Q,[F("div",null,[e.$slots.buttons?m("",!0):(c(),h(M,{key:0},[O(B(t.tableTitle),1)],64)),_(e.$slots,"buttons",{},void 0,!0)]),o(d,{size:6},{default:s(()=>[o(l,{placement:"top",content:"\u5237\u65B0"},{default:s(()=>[o(u,{icon:"refresh",size:18,hover:"",class:"mr10 pointer",onClick:R})]),_:1}),o(l,{placement:"top",content:"\u5BFC\u51FA"},{default:s(()=>[o(u,{icon:"svg-export",size:18,hover:"",class:"mr10 pointer"})]),_:1}),o(l,{placement:"top",content:"\u5217\u8BBE\u7F6E"},{default:s(()=>[o(b,{tableColumns:t.tableConfig.columns,"onUpdate:tableColumns":n[0]||(n[0]=i=>t.tableConfig.columns=i),filterColumns:t.filterConfig.columns,"onUpdate:filterColumns":n[1]||(n[1]=i=>t.filterConfig.columns=i)},null,8,["tableColumns","filterColumns"])]),_:1})]),_:1})])]),default:s(()=>[_(e.$slots,"table",{},void 0,!0),e.$slots.table?m("",!0):(c(),y(f,$({key:0},t.tableConfig,{"max-height":C.value}),{tableColumn:s(({scope:i,column:S})=>[_(e.$slots,"tableColumn",{scope:i,column:S},void 0,!0)]),_:3},16,["max-height"]))]),_:3})])}}});const se=X(Y,[["__scopeId","data-v-206939cc"]]);export{se as _};
